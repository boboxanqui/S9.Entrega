<div *ngIf="index < quizzLength; else finishQuizz">
    <div class="text-center" 
        *ngIf="countdown != 0; else quizz">
        <h2>El juego empieza en...</h2>
        <h2 class="display-1">{{ countdown }}</h2>
    </div>
    
    <ng-template #quizz>
    
        <div class="row justify-content-around pb-3">
            <h3 class="col text-center">Pregunta <span class="text-nowrap">{{ index + 1 }} / {{ quizzLength }} </span> </h3>
            <h3 class="col text-center"> {{ points | i18nPlural:puntosPlural }}  </h3>
        </div>

        <div class="border border-5 border-white-50 rounded-3">
            <div class="bg-warning progress-bar-striped progress-bar-animated" 
                [style.width]="quizzTimer"
                style="height: 20px;">
            </div>
        </div>
        <!-- <div class="progress">
            <div class="progress-bar progress-bar-striped bg-warning" 
                role="progressbar" 
                [style.width]="quizzTimer" 
                aria-valuenow="75" 
                aria-valuemin="0" 
                aria-valuemax="100">
            </div>
        </div> -->
    
        <div class="row mt-3">
    
            <h2 class="text-center"> {{ questions[index].question }} </h2>
            <img [src]=" questions[index].img " 
                alt="Bandera" 
                class="img-fluid shadow-lg rounded-3 mx-auto my-3 p-0" 
                style="height: 200px; width: auto;">
    
        </div>
    
        <div class="row text-center" [class]="showAnswer ? 'visible' : 'invisible'">
                <i class="fa-solid fa-thumbs-up text-success" 
                    *ngIf="correctAnswer; else incorrect"
                    style="font-size: 5rem;">
                </i>
                <ng-template #incorrect>
                    <i class="fa-solid fa-thumbs-down text-danger"
                        style="font-size: 5rem;">
                    </i>
                </ng-template>
        </div>
    
        <div class="row gx-2 justify-content-center">
    
            <div class="col-12 col-sm-6 px-2 py-2 py-sm-4 text-center"
                *ngFor="let answer of questions[index].answers">
                <button class="btn btn-lg w-100"
                    style="max-width: 500px;"
                    [class]="showAnswer && answer.correct ? 'btn-success' : 'btn-outline-secondary'  "
                    [class.disabled]="showAnswer"
                    (click)="onAnswer( answer.correct )">
                    {{ answer.option }}
                </button>
            </div>
    
        </div>
    
    </ng-template>
</div>

<ng-template #finishQuizz>
    <app-quizz-end [time]="totalTime" [points]="points"></app-quizz-end>
</ng-template>

